\documentclass{article}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{multicol}
\begin{document}
\newcommand{\translate}[2]{\ensuremath{\llbracket\texttt{#1}\rrbracket_{#2}}}
\newcommand{\fresh}[1]{\ensuremath{x^*_{#1}}}

We define $\llbracket n \rrbracket_{type}$ to be the translation of a node $n$ of type $type$ from LittleBang into TinyBang-Nested. Possible node types are \textit{expressions} ($e$), \textit{terms} ($t$), \textit{patterns} ($p$), and \textit{arguments} ($a$). The translation function is the identity when called on any LittleBang node which is also present in the TinyBang-Nested AST. We use the symbol \fresh{n} to denote the $n$th fresh variable used within the given expression; fresh variables with the same subscript within one expression are identical.\\
%\begin{multicols}{2}
\\\textsc{Expressions}\\
\translate{if $e_1$ then $e_2$ else $e_3$}{e} = \verb|((`True () -> |\translate{$e_2$}{e}\verb|) & (`False () -> |\translate{$e_3$}{e}\verb|)) |\translate{$e_1$}{e}\\
\translate{[$e_1$,$...$,$e_n$]}{e} = \verb|`Hd |\translate{$e_1$}{e}\verb| & `Tl (...(`Hd |\translate{$e_n$}{e}\verb| & `Tl `Nil ()))|\\
\translate{$e_1$; $e_2$}{e} = \verb|(|\fresh{1}\verb| -> |\translate{$e_2$}{e}\verb|) |\translate{$e_1$}{e}\\
\translate{$e_1$ :: $e_2$}{e} = \verb|`Hd |\translate{$e_1$}{e}\verb| & `Tl |\translate{$e_2$}{e}\\
\translate{($t_1$,$...$,$t_n$)}{e} = \translate{$t_1$}{t}\verb| & ... & |\translate{$t_n$}{t}\\
\translate{object ($ident$ ($a_1$,$...$,$a_n$) = $e_1$, \textbackslash($b_1$,$...$,$b_n$) = $e_2$, $...$)}{e} = \\
\indent\indent\verb|seal (|\translate{$ident$ (self,$a_1$,$...$,$a_n$) = $e_1$}{t}\verb|, |\translate{\textbackslash(self,$b_1$,$...$,$b_n$) = $e_2$}{t}\verb|, |$...$\verb|)|\\
\translate{$e$.$x$}{e} = \verb|((`|$x$~$x$\verb| -> |$x$\verb|) & (() -> (arg -> |\translate{$e$}{e}\verb| (`_msg (`|$x$\verb| ()) & arg)))) |\translate{$e$}{e}\\
%\columnbreak
\\\textsc{Patterns}\\
\translate{[$p_1$,$p_c$...]}{p} = \verb|(`Hd |\translate{$p_1$}{p}\verb| & `Tl |\translate{$p_c$}{p}\verb|)|\\
\translate{[$p_1$,$...$,$p_n$]}{p} = \translate{[$p_1$,$...$,$p_n$,`Nil ()...]}{p}\\
\\\textsc{Terms}\\
\translate{$ident$ = $e$}{t} = \verb|`|$ident$~\translate{$e$}{e}\\
\translate{$ident$ ($a_1$,$...$,$a_n$) = $e$}{t} = \verb|(`_msg `|$ident$\verb| () & |\translate{$a_1$}{a}\verb| & |$...$\verb| & |\translate{$a_n$}{a}\verb| -> |\translate{$e$}{e}\verb|)|\\
\translate{\textbackslash($a_1$,$...$,$a_n$) = $e$}{t} = \verb|(|\translate{$a_1$}{a}\verb| & |$...$\verb| & |\translate{$a_n$}{a}\verb| -> |\translate{$e$}{e}\verb|)|\\
\\\textsc{Arguments}\\
\translate{$ident$}{a} = \verb|`|$ident$~$ident$\\
\translate{$ident$:$p$}{a} = \verb|`|$ident$~$ident$\verb| & |\translate{$p$}{p}\\
%\end{multicols}
\end{document}
