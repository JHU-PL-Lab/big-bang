# EXPECT: typefail
x1 = p3 \
     { p1 = ();
       p2 = `B p1;
       p3 = `A p2;
     } ->
     { x2 = 0
     };
x2 = 4;
x3 = `C x2;
x4 = `A x3;
x5 = x1 x4;
